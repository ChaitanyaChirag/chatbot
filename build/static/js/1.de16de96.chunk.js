(this.webpackJsonpchatbot=this.webpackJsonpchatbot||[]).push([[1],{743:function(e,t,a){"use strict";var n=a(107),i=a(108),r=a(111),o=a(109),s=a(110),l=a(1),c=a.n(l),m=function(e){return function(t){function a(){var e,t;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return(t=Object(r.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(s)))).state={shouldRender:t.props.isMounted},t}return Object(s.a)(a,t),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props,n=a.isMounted,i=a.delayMountTime,r=a.delayUnmountTime;n&&!e.isMounted?setTimeout((function(){return t.setState({shouldRender:!1})}),r):!n&&e.isMounted&&setTimeout((function(){return t.setState({shouldRender:!0})}),i)}},{key:"render",value:function(){return this.state.shouldRender?c.a.createElement(e,this.props):null}}]),a}(c.a.Component)};m.defaultProps={delayMountTime:0,delayUnmountTime:0},t.a=m},768:function(e,t,a){"use strict";var n=a(107),i=a(108),r=a(111),o=a(109),s=a(110),l=a(1),c=a.n(l),m=(a(849),function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.dot_color;return c.a.createElement("div",{className:"ori-flex-row oriDotsLoaderContainer"},c.a.createElement("div",{className:"dot one ".concat(e)},"\xa0"),c.a.createElement("div",{className:"dot two ".concat(e)},"\xa0"),c.a.createElement("div",{className:"dot three ".concat(e)},"\xa0"))}}]),t}(c.a.PureComponent));m.defaultProps={dot_color:"ori-bg-primary"},t.a=m},769:function(e,t,a){"use strict";var n=a(107),i=a(108),r=a(111),o=a(109),s=a(110),l=a(1),c=a.n(l),m=a(6),d=a.n(m),p=a(69),u=a.n(p),f=a(850),g=a.n(f),h=a(851),b=a.n(h),E=a(852),y=a.n(E),v=a(743),T=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.message,a=e.title,n=e.color,i=e.fontSize,r=e.fontLight,o=e.size,s=e.isMounted,l=e.delayUnmountTime,m=e.success,d=e.failed,p=e.chainBreak;return c.a.createElement("div",{className:u()("ori-animated ori-full-parent-height ori-pad-20 ori-flex-column ori-flex-center",{"ori-fade-in":s,"ori-fade-out":!s}),style:{animationDuration:"".concat(l,"ms")}},c.a.createElement("div",{className:u()("ori-animated ori-b-mrgn-10",{"ori-font-primary":"primary"===n,"ori-font-green":"green"===n,"ori-font-warning":"warning"===n,"ori-font-danger":"danger"===n,"ori-zoom-in":s,"ori-zoom-out":!s}),style:{animationDuration:"".concat(l,"ms")}},p&&c.a.createElement(b.a,{size:o}),m&&c.a.createElement(g.a,{size:o}),d&&c.a.createElement(y.a,{size:o})),a&&a.trim().length>0&&c.a.createElement("p",{className:u()("ori-no-b-mrgn ori-capitalize",{"ori-font-xs":"xxs"===i,"ori-font-sm":"xs"===i,"ori-font-md":"sm"===i,"ori-font-lg":"md"===i})},a),c.a.createElement("p",{className:u()("ori-no-b-mrgn",{"ori-font-xxs":"xxs"===i,"ori-font-xs":"xs"===i,"ori-font-sm":"sm"===i,"ori-font-md":"md"===i,"ori-font-light":r})},t))}}]),t}(c.a.PureComponent),_=Object(v.a)(T);_.propTypes={message:d.a.string,title:d.a.string,color:d.a.string,size:d.a.number,fontSize:d.a.string,fontLight:d.a.bool,success:d.a.bool,chainBreak:d.a.bool,failed:d.a.bool,isMounted:d.a.bool,delayUnmountTime:d.a.number},_.defaultProps={title:null,size:30,fontSize:"sm",fontLight:!1,success:!1,failed:!1,chainBreak:!1,delayUnmountTime:500,delayMountTime:0},t.a=_},770:function(e,t,a){"use strict";var n=a(107),i=a(108),r=a(111),o=a(109),s=a(110),l=a(1),c=a.n(l),m=a(69),d=a.n(m),p=a(853),u=a.n(p),f=a(741),g=a.n(f),h=a(855),b=a.n(h),E=a(752),y=a.n(E),v=a(762),T=a.n(v),_=a(895),S=a.n(_),C=a(896),x=a.n(C),N=a(897),O=a.n(N),I=a(898),k=a.n(I),M=a(899),j=a.n(M),w=(a(900),a(2)),B=a(4),D=y.a.TextArea,R=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target.value;a.setState({input_message:t})},a.stopTypingIndicator=function(){a.state.typing&&a.setState({typing:!1},(function(){var e=a.props,t=e.emitCustomEvent,n={clientPsid:e.psid,isTyping:!1};t(B.d.TYPING_STATUS,n)}))},a.inputKeyDown=function(e){var t=a.state,n=t.input_message,i=t.typing,r=a.props,o=r.psid,s=r.emitCustomEvent;13===e.keyCode&&!e.shiftKey&&n.trim().length>0?a.handleMessageSend(e):i?(clearTimeout(a.typingTimer),a.typingTimer=setTimeout(a.stopTypingIndicator,3e3)):(a.setState({typing:!0},(function(){var e={clientPsid:o,isTyping:!0};s(B.d.TYPING_STATUS,e)})),a.typingTimer=setTimeout(a.stopTypingIndicator,3e3))},a.onClickMic=function(){var e=a.props,t=e.listening,n=e.startListening,i=e.stopListening,r=e.resetTranscript;t?i():(r(),n())},a.stopSpeechListening=function(){var e=a.props,t=e.listening,n=e.stopListening;a.setState({input_message:""}),t&&n()},a.handleMessageSend=function(e){e.preventDefault();var t=a.state.input_message.trim();a.props.sendTextToServer(t),a.stopSpeechListening(),a.stopTypingIndicator(),a.typingTimer&&clearTimeout(a.typingTimer)},a.onRemove=function(e){a.setState({file:null,fileUrl:""})},a.typingTimer=null,a.state={input_message:"",typing:!1,file:null,fileUrl:""},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.transcript;a.listening&&e.transcript!==n&&this.setState({input_message:n})}},{key:"render",value:function(){var e=this.props,t=e.is_input_lock,a=e.input_lock_text,n=e.onClickMenu,i=e.onInputFocus,r=e.browserSupportsSpeechRecognition,o=e.listening,s=e.notification_bot,l=e.beforeUpload,m=e.onRemove,p=this.state.input_message,u=Object(w.q)();return c.a.createElement("div",{className:d()("ori-relative ori-full-width oriInputComposerContainer",{"ori-placeholder-primary":t||o})},!s&&!o&&c.a.createElement("div",{className:"ori-animated ori-fade-in ori-absolute ori-pad-5 ori-cursor-ptr ori-flex-column ori-flex-jc alignMenuIcon",onClick:n},c.a.createElement(O.a,{size:20})),o&&c.a.createElement("div",{className:d()("ori-absolute ori-pad-5 ori-cursor-ptr ori-flex-column ori-flex-jc ori-font-danger",{alignCircleDotIcon:s,alignMenuIcon:!s}),onClick:this.stopSpeechListening},c.a.createElement(k.a,{size:18,className:"ori-animated ori-ripple ori-infinite"})),c.a.createElement("div",{className:"ori-animated ori-fade-in ori-absolute ori-pad-5 ori-cursor-ptr ori-flex-column ori-flex-jc alignAddFileIcon"},c.a.createElement(T.a,{accept:"image/*",showUploadList:!1,beforeUpload:l,onRemove:m},c.a.createElement(j.a,{size:20,className:"ori-font-light-hover-default"}))),c.a.createElement(b.a,{onSubmit:this.handleMessageSend},c.a.createElement(D,{placeholder:t?a:o?"Listening...":"send your query...",className:"ori-font-sm ori-line-height-1 inputField",autosize:{minRows:1,maxRows:u?1:3},value:p,name:"input_message",disabled:t,onKeyDown:this.inputKeyDown,onFocus:i,onChange:this.handleInputChange}),(p.trim().length>0||!r)&&c.a.createElement(g.a,{className:d()("ori-animated ori-fade-in ori-absolute ori-pad-5 ori-flex-column ori-flex-jc alignSendButton",{sendBtnActive:p.trim().length>0}),htmlType:"submit",disabled:0===p.trim().length||t},c.a.createElement(S.a,{size:20})),0===p.trim().length&&r&&c.a.createElement(g.a,{className:d()("ori-animated ori-fade-in ori-absolute ori-pad-5 ori-flex-column ori-flex-jc alignSendButton"),disabled:t,onClick:this.onClickMic},c.a.createElement(x.a,{size:20,className:d()("ori-font-light btnIcon",{"ori-font-primary ori-animated ori-pulse ori-infinite":o})}))))}}]),t}(c.a.PureComponent);R.defaultProps={is_input_lock:!1,notification_bot:!1,emitCustomEvent:function(){}};t.a=u()({autoStart:!1})(R)},783:function(e,t,a){"use strict";var n=a(107),i=a(108),r=a(111),o=a(109),s=a(110),l=a(1),c=a.n(l),m=a(69),d=a.n(m),p=a(788),u=a.n(p),f=a(789),g=a.n(f),h=a(790),b=a.n(h),E=a(791),y=a.n(E),v=a(328),T=a.n(v),_=a(754),S=a.n(_),C=a(792),x=(a(848),a(4)),N=a(14),O=a(2),I=a(768),k=a(32),M=a(769),j=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).state={hasError:!1},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidCatch",value:function(e,t){var a=this;k.b((function(a){Object.keys(t).forEach((function(e){a.setExtra(e,t[e])})),k.a(e)})),this.setState({hasError:!0},(function(){a.props.onErrorCallback&&a.props.onErrorCallback()}))}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.children;return this.state.hasError?t===x.c.ERROR?c.a.createElement(M.a,{title:"Error",message:"something went worng.",height:100,width:100,error:!0}):null:a}}]),t}(l.Component),w=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).isTimeStampTagVisible=function(e,t){return new Date(e).getTime()-new Date(t).getTime()>864e5},a.displayTimeStamp=function(e){var t=(new Date).getTime(),a=new Date(e).getTime();return t-a<864e5?"Today":t-a<1728e5?"Yesterday":Object(O.f)(e,{year:"numeric",month:"short",day:"numeric"})},a.onClickMessageVoting=function(e,t){(0,a.props.onMessageVoting)({chatlogId:e.chatlogId,voteType:t})},a.renderReadStatusIcon=function(e){return e===x.e.SENDING?c.a.createElement(T.a,{size:13,className:"ori-l-mrgn-5 ori-animated ori-rotate ori-infinite"}):e===x.e.SENT?c.a.createElement(g.a,{size:13,className:"ori-l-mrgn-5"}):e===x.e.DELIVERED?c.a.createElement(b.a,{size:13,className:"ori-l-mrgn-5"}):e===x.e.SEEN?c.a.createElement(y.a,{size:13,className:"ori-l-mrgn-5"}):void 0},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.messages,i=a.messagesContainer;e.messages.length!==n.length&&Object(O.s)(i)}},{key:"render",value:function(){var e=this,t=this.props,a=t.messages,n=t.is_typing,i=t.typing_text,r=t.handleMsgBtnClick,o=t.onChangeCheckbox,s=t.notification_bot,l=t.stack_view,m=t.btn_disabled,p=t.bubble_animation,f=t.handleFileUpload;return c.a.createElement("div",{className:"ori-full-width ori-l-pad-20 ori-r-pad-40 ori-tb-pad-10 oriChatBotConversationContainer"},a.map((function(t,n){var i=0===n||n>0&&(a[n-1].sender!==t.sender||a[n-1].senderInfo&&t.senderInfo&&a[n-1].senderInfo.psid!==t.senderInfo.psid),g=t.sender===x.f.CUSTOMER,h=t.sender===x.f.SYSTEM,b=t.sender===x.f.ADMIN,E=t.sender===x.f.CHATBOT,y=t.type===x.h.TEXT,v=t.type===x.h.LIST,T=t.type===x.h.TEXT_WITH_BUTTONS,_=t.type===x.h.CHECKBOX_WITH_MEDIA,I=t.type===x.h.IMAGE_WITH_BUTTONS,k=t.type===x.h.VIDEO,M=t.type===x.h.CAROUSEL,w=T||I||k,B=t.type===x.h.NOTIFICATION,D=t.type===x.h.UPLOAD_FILE,R=t.type===x.h.CUSTOM_MSG&&t.payload.subtype===x.g.DISH_RECHARGE,U=t.type===x.h.CUSTOM_MSG&&t.payload.subtype===x.g.DISH_RECHARGE_DETAILS,z=t.type===x.h.CUSTOM_MSG&&t.payload.subtype===x.g.DISH_OFFERS,A=t.type===x.h.CUSTOM_MSG&&t.payload.subtype===x.g.DISH_RECHARGE_HISTORY,L="u",P="";t.senderInfo&&(L=t.senderInfo.pseudoName?t.senderInfo.pseudoName:"agent",P=t.senderInfo.imgUrl&&t.senderInfo.imgUrl.trim().length>0?t.senderInfo.imgUrl:"");var H=!s&&(0===n||!!t.timestamp&&e.isTimeStampTagVisible(t.timestamp,a[n-1].timestamp));return h&&t.type===x.h.SYSTEM_TEXT?c.a.createElement(j,{key:n},c.a.createElement("div",{className:"ori-l-pad-25 ori-tb-pad-10 ori-text-center "},c.a.createElement("p",{className:"ori-font-medium ori-font-xs"},t.payload.text),t.timestamp&&c.a.createElement("p",{className:"ori-font-xxs ori-font-light ori-lr-pad-10"},Object(O.g)(t.timestamp,{hour:"2-digit",minute:"2-digit"})))):c.a.createElement(j,{key:n},c.a.createElement("div",{className:"ori-full-width"},H&&c.a.createElement("div",{className:"ori-flex-row ori-flex-jc ori-l-pad-20"},c.a.createElement("div",{className:"ori-font-xs ori-border-radius-20 ori-lr-pad-10 ori-b-mrgn-10 ori-t-mrgn-15 ori-bg-header ori-box-shadow"},e.displayTimeStamp(t.timestamp))),c.a.createElement("div",{className:d()("ori-relative ori-flex-row msgContainer ori-animated "+p,{receiverMsgContainer:b||E,senderMsgContainer:g})},i&&b&&c.a.createElement("p",{className:"ori-absolute ori-font-11 ori-capitalize ori-align-top-4"},L),i&&E&&c.a.createElement("div",{className:d()("ori-absolute ori-animated ori-fade-in msgAvatar")},c.a.createElement(S.a,{src:""!==P?P:N.a.icon_url})),i&&b&&c.a.createElement("div",{className:d()("ori-absolute ori-animated ori-fade-in msgAvatar")},c.a.createElement(S.a,{src:P,className:"ori-font-default ori-capitalize ori-bg-white"},L.charAt(0))),(y||v||w||_||R||U||z||A||M||B||D)&&c.a.createElement("div",{className:d()("ori-b-mrgn-4",{"ori-t-pad-20":i,bubbleIndicatorDefault:i&&!s,bubbleIndicatorNotification:i&&s&&!l,bubbleIndicatorStack:i&&s&&l,"ori-full-width":M||D})},c.a.createElement("div",{className:d()("ori-pad-7 ori-border-radius-10 msgBox",{bubbleIndicator:i,defaultMsgBox:!s,notificationMsgBox:s&&!l,notificationStackMsgBox:s&&l,oriOffers:z,"ori-full-width oriRechargeHistory":A,"ori-full-width oriCarousel":M,"ori-l-pad-15":v})},y&&c.a.createElement(C.i,{message:t,disable_html_parser:g}),v&&c.a.createElement(C.c,{message:t}),w&&c.a.createElement(C.j,{message:t,handleMsgBtnClick:r,btn_hidden:l,btn_disabled:m}),_&&c.a.createElement(C.b,{message:t,handleMsgBtnClick:r,onChangeCheckbox:o,checkbox_disabled:n!==a.length-1,btn_hidden:l||n!==a.length-1,btn_disabled:m}),R&&c.a.createElement(C.f,{message:t,handleMsgBtnClick:r,btn_hidden:l,btn_disabled:m}),U&&c.a.createElement(C.g,{message:t,handleMsgBtnClick:r,btn_hidden:l,btn_disabled:m}),z&&c.a.createElement(C.d,{message:t,handleMsgBtnClick:r,handleOfferSelection:e.props.handleOfferSelection,disable_offer:n!==a.length-1||l,btn_disabled:m}),A&&c.a.createElement(C.h,{message:t,handleMsgBtnClick:r,btn_hidden:l,btn_disabled:m}),M&&c.a.createElement(C.a,{message:t,handleMsgBtnClick:r,btn_hidden:l,btn_disabled:m}),B&&c.a.createElement(C.e,{message:t,handleMsgBtnClick:r,btn_disabled:n!==a.length-1||m,btn_hidden:l}),D&&c.a.createElement(C.k,{message:t,handleMsgBtnClick:r,btn_disabled:m,handleFileUpload:f,disabled:l||n!==a.length-1}),(t.timestamp||t.chatlogId)&&c.a.createElement("div",{className:d()("ori-flex-row ori-line-height-1 ori-t-mrgn-3 ori-flex-jsb",{"ori-font-white":g,"ori-font-light":E||b})},c.a.createElement("div",{className:"ori-flex-row"},t.chatlogId&&(E||b)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:d()("ori-flex ori-cursor-ptr ori-r-pad-5",{"ori-font-primary":t.voteType&&"upvote"===t.voteType}),onClick:e.onClickMessageVoting.bind(e,t,"upvote")},c.a.createElement(u.a,{size:12})),c.a.createElement("div",{className:d()("ori-flex ori-cursor-ptr ori-l-pad-5 ori-rotate-180",{"ori-font-primary":t.voteType&&"downvote"===t.voteType}),onClick:e.onClickMessageVoting.bind(e,t,"downvote")},c.a.createElement(u.a,{size:12})))),(t.timestamp||t.readStatus)&&c.a.createElement("div",{className:"ori-flex-row"},t.timestamp&&c.a.createElement("span",{className:"ori-font-xxs ori-flex-column ori-flex-jfe ori-uppercase"},Object(O.g)(t.timestamp,{hour:"2-digit",minute:"2-digit"})),g&&t.readStatus&&e.renderReadStatusIcon(t.readStatus))))))))})),n&&c.a.createElement("div",{className:"msgContainer receiverMsgContainer ori-flex-row ori-t-pad-5"},c.a.createElement("div",{className:d()("ori-flex-row ori-border-radius-10 ori-pad-7",{defaultMsgBox:!s,notificationMsgBox:s&&!l,notificationStackMsgBox:s&&l})},""!==i&&c.a.createElement("div",{className:"ori-font-xs ori-font-primary ori-capitalize-first ori-r-pad-5"},i),c.a.createElement("div",{className:"ori-flex-column ori-flex-jc"},c.a.createElement(I.a,null)))))}}]),t}(c.a.PureComponent);w.defaultProps={notification_bot:!1,bubble_animation:"",typing_text:"",is_typing:!1,stack_view:!1,btn_disabled:!1};t.a=w},848:function(e,t,a){},849:function(e,t,a){},900:function(e,t,a){}}]);
//# sourceMappingURL=1.de16de96.chunk.js.map