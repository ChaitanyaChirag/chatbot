{"version":3,"sources":["components/poweredby/index.js","../node_modules/react-icons/lib/go/zap.js","modules/chatbot/components/chatbotheader/index.js","modules/chatbot/index.js"],"names":["PoweredBy","props","className","size","href","target_url","target","src","logo_url","alt","Object","defineProperty","exports","value","_extends","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react2","_interopRequireDefault","_reactIconBase2","obj","__esModule","default","createElement","viewBox","d","module","ChatBotHeader","this","is_internet_connected","is_socket_connected","chatbot_client_info","icon_url","brand_name","classNames","React","PureComponent","Menu","lazy","QuickReply","Feedback","EndChat","PreviewFile","androidTabletStyle","width","height","top","bottom","left","right","maxHeight","minHeight","borderRadius","ChatBot","state","show_menu","show_feedback","end_chat_form_data","file","fileUrl","show_file_preview","setMessageContainerRef","el","messagesContainer","openMenu","setState","closeMenu","scrollContainerToBottom","scrollToBottom","handleResetChat","chat_details","psid","actions","payload","resetChat","default_messages","getDefaultMessages","localStorage","setItem","LOCAL_STORAGE","MESSAGES","JSON","stringify","LAST_EMIT","setDefaultState","showFeedback","setTimeout","closeFeedback","minimizeChatbotInterface","handleChatbotInterface","onClickCloseIcon","end_chat","visible","show_confirmation_card","show_form_card","show_resolved_card","form","description","updateEndChat","handleFormInputChange","event","name","handleFormSelectChange","option","confirmEndConversation","emitCustomEvent","EVENTS","END_CONVERSATION","err","res","console","log","data","formData","formTitle","submitEndFormFormData","END_CONVERSATION_FORM_SUBMIT","beforeFileUpload","checkImageTypeFile","fileToBase64","then","onFileRemove","onFilePreviewCancel","onClickFileSend","handleFileUpload","is_adster_bot","sendTextToServer","handleMsgBtnClick","handleOfferSelection","onChangeCheckbox","android","isAndroid","containerStyle","trigger","show_close_icon","style","backgroundImage","chatbot_setting","chat_interface","show_bg_image","bg_image_url","fallback","isMounted","delayUnmountTime","closeEndChatPopup","submitFormData","onClickCancel","onClickSend","sendFeedback","onClick","id","ref","btn_disabled","messages","onMessageVoting","is_typing","typing_text","powered_by","visibility","quick_replies","is_input_lock","input_lock_text","onInputFocus","onClickMenu","beforeUpload","onRemove","Component","defaultProps"],"mappings":"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","file":"static/js/6.7c4bbc01.chunk.js","sourcesContent":["import React from 'react';\nimport PowerIcon from 'react-icons/lib/go/zap';\n\nconst PoweredBy = (props) => {\n    return (\n        <div className=\"ori-animated ori-fade-in-up\" >\n            <PowerIcon size={11} className=\"ori-font-danger\"/>\n            <span className=\"ori-font-xxs ori-font-light\" > by</span >\n            <a href={props.target_url} target=\"blank\" className=\"ori-font-xxs\" >\n                <img src={props.logo_url} className=\"ori-l-mrgn-5 ori-height-10 ori-cursor-ptr\" alt=\"\" />\n            </a >\n        </div >\n    );\n};\n\nexport default PoweredBy;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIconBase = require('react-icon-base');\n\nvar _reactIconBase2 = _interopRequireDefault(_reactIconBase);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar GoZap = function GoZap(props) {\n  return _react2.default.createElement(_reactIconBase2.default, _extends({\n    viewBox: '0 0 40 40'\n  }, props), _react2.default.createElement('g', null, _react2.default.createElement('path', {\n    d: 'm32.5 17.5h-10l7.5-17.5-22.5 22.5h10l-7.5 17.5 22.5-22.5z'\n  })));\n};\n\nexports.default = GoZap;\nmodule.exports = exports['default'];","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport { chatbot_client_info } from '../../../../data/config/urls';\n\nclass ChatBotHeader extends React.PureComponent {\n  render() {\n    const { is_internet_connected, is_socket_connected } = this.props;\n    return (\n      <div className=\"oriChatBotHeaderContainer\">\n        <div className=\"ori-flex-row\">\n          <div className=\"ori-animated ori-fade-in ori-r-mrgn-15 avatarContainer\">\n            <img src={chatbot_client_info.icon_url} alt=\"\" className=\"ori-img-contain\" />\n          </div>\n          <div className=\"titleContainer\">\n            <p className=\"ori-capitalize ori-font-md ori-font-medium ori-no-b-mrgn\">{chatbot_client_info.brand_name}</p>\n            <div className=\"ori-flex-row\">\n              <div className=\"ori-flex-column ori-flex-jc \">\n                <div className={classNames(\"onlineBadge\", { \"active\": is_internet_connected && is_socket_connected })}>&nbsp;</div>\n              </div>\n              <div className=\"ori-l-mrgn-5 onlineStatus\">\n                {!is_internet_connected ? \"Offline\" : (!is_socket_connected ? \"Connecting...\" : \"Online\")}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nChatBotHeader.propTypes = {\n  is_socket_connected: PropTypes.bool,\n  is_internet_connected: PropTypes.bool,\n};\n\nexport default ChatBotHeader;\n","import React, { Component, Suspense } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport CloseIcon from 'react-icons/lib/md/close';\nimport Button from 'antd/lib/button';\n\nimport { chatbot_setting, chatbot_client_info } from '../../data/config/urls';\nimport { LOCAL_STORAGE, isAndroid, getDefaultMessages, scrollToBottom, fileToBase64, checkImageTypeFile } from '../../data/config/utils';\nimport { EVENTS } from '../../data/config/constants';\n\nimport './index.scss';\n\nimport ChatBotHeader from './components/chatbotheader';\nimport ChatBotConversation from '../../components/chatbotconversation';\nimport InputComposer from '../../components/inputcomposer';\nimport PoweredBy from '../../components/poweredby';\n\nconst Menu = React.lazy(() => import('./components/menu'));\nconst QuickReply = React.lazy(() => import('./components/quickreply'));\nconst Feedback = React.lazy(() => import('./components/feedback'));\nconst EndChat = React.lazy(() => import('./components/endchat'));\nconst PreviewFile = React.lazy(() => import('./components/previewfile'));\n\n\nconst androidTabletStyle = {\n  width: '100%',\n  height: '100%',\n  top: '0',\n  bottom: '0',\n  left: '0',\n  right: '0',\n  maxHeight: 'none',\n  minHeight: 'none',\n  borderRadius: '1px'\n};\n\nclass ChatBot extends Component {\n  state = {\n    show_menu: false,\n    show_feedback: false,\n    end_chat_form_data: {},\n    file: null,\n    fileUrl: \"\",\n    show_file_preview: false,\n  };\n\n  componentDidMount() {\n    scrollToBottom(this.messagesContainer);\n  }\n\n  setMessageContainerRef = el => {\n    this.messagesContainer = el;\n  }\n\n  openMenu = () => {\n    this.setState({ show_menu: true });\n  };\n\n  closeMenu = () => {\n    this.setState({ show_menu: false });\n  };\n\n  scrollContainerToBottom = () => {\n    scrollToBottom(this.messagesContainer);\n  };\n\n  handleResetChat = () => {\n    const { psid, is_socket_connected } = this.props.chat_details;\n    const { actions } = this.props;\n    if (is_socket_connected) {\n      const payload = { psid };\n      actions.resetChat(payload, () => {\n        const default_messages = getDefaultMessages();\n        localStorage.setItem(LOCAL_STORAGE.MESSAGES(), JSON.stringify(default_messages));\n        localStorage.setItem(LOCAL_STORAGE.LAST_EMIT, null);\n        actions.setDefaultState();\n        this.closeMenu();\n      });\n    }\n  };\n\n  showFeedback = () => {\n    this.setState({ show_menu: false }, () => { setTimeout(this.setState({ show_feedback: true }), 400) });\n  };\n\n  closeFeedback = () => {\n    this.setState({ show_feedback: false });\n  };\n\n  minimizeChatbotInterface = () => {\n    this.props.actions.handleChatbotInterface(false);\n  };\n\n  onClickCloseIcon = () => {\n    const { end_chat } = this.props.chat_details;\n    const { actions } = this.props;\n    const payload = end_chat.visible ? {\n      visible: false,\n      show_confirmation_card: false,\n      show_form_card: false,\n      show_resolved_card: false,\n      form: [],\n      description: null,\n    } : {\n        visible: true,\n        show_confirmation_card: true,\n        show_form_card: false,\n        form: [],\n        description: null,\n      };\n    actions.updateEndChat(payload);\n  };\n\n  handleFormInputChange = event => {\n    this.setState({\n      end_chat_form_data: {\n        ...this.state.end_chat_form_data,\n        [event.target.name]: event.target.value,\n      }\n    });\n  };\n\n  handleFormSelectChange = (value, option) => {\n    if (option && option.props && option.props.name) {\n      this.setState({\n        end_chat_form_data: {\n          ...this.state.end_chat_form_data,\n          [option.props.name]: value,\n        }\n      });\n    }\n  };\n\n  confirmEndConversation = () => {\n    const { actions, chat_details } = this.props;\n    const payload = {\n      psid: chat_details.psid,\n    };\n    actions.emitCustomEvent(EVENTS.END_CONVERSATION, payload, (err, res) => {\n      console.log(payload, err, res);\n      if (!err && res && res.data && res.data.formData) {\n        this.handleResetChat();\n        const data = {\n          show_confirmation_card: false,\n          show_resolved_card: false,\n          show_form_card: true,\n          form: res.data.formData,\n          description: res.data.formTitle ? res.data.formTitle : null,\n        };\n        actions.updateEndChat(data);\n      } else {\n        actions.handleChatbotInterface(false);\n        this.onClickCloseIcon();\n      }\n    });\n  };\n\n  submitEndFormFormData = () => {\n    const { end_chat_form_data } = this.state;\n    const { actions, chat_details } = this.props;\n    const payload = {\n      psid: chat_details.psid,\n      formData: end_chat_form_data\n    };\n    actions.emitCustomEvent(EVENTS.END_CONVERSATION_FORM_SUBMIT, payload, () => {\n      actions.handleChatbotInterface(false);\n      this.onClickCloseIcon();\n    });\n  };\n\n  beforeFileUpload = file => {\n    console.log('file', file);\n    if (file && file.name && checkImageTypeFile(file.name))\n      fileToBase64(file).then(fileUrl => {\n        this.setState({\n          file,\n          fileUrl,\n          show_file_preview: true\n        });\n      })\n    return false;\n  };\n\n  onFileRemove = () => {\n    this.setState({\n      file: null,\n      fileUrl: \"\",\n    });\n  };\n\n  onFilePreviewCancel = () => {\n    this.setState({\n      show_file_preview: false,\n    });\n  };\n\n  onClickFileSend = () => {\n    const { file, fileUrl } = this.state;\n    const { handleFileUpload } = this.props;\n    handleFileUpload({ file, fileUrl });\n    this.onFilePreviewCancel();\n  };\n\n  render() {\n    const { show_menu, show_feedback, show_file_preview, file, fileUrl } = this.state;\n    const { is_adster_bot, chat_details, sendTextToServer, handleMsgBtnClick, handleFileUpload, handleOfferSelection, onChangeCheckbox, actions } = this.props;\n    const android = isAndroid();\n    let containerStyle = {\n      bottom: chatbot_client_info.trigger.show_close_icon ? 'calc(20px + 70px + 20px)' : 0,\n      borderRadius: chatbot_client_info.trigger.show_close_icon ? '8px' : '8px 8px 0px 0px',\n    };\n    if (android) {\n      containerStyle = { ...containerStyle, ...androidTabletStyle };\n    }\n    return (\n      <div className={classNames(\"ori-fixed ori-animated ori-z-index-99992 oriChatBotContainer\", { \"ori-fade-in-up\": !chatbot_client_info.trigger.show_close_icon, \"ori-fade-in\": chatbot_client_info.trigger.show_close_icon })} style={containerStyle}>\n        <div className=\"ori-relative ori-flex-column chatBotContentContainer\" style={{ backgroundImage: chatbot_setting.chat_interface.show_bg_image ? `url(${chatbot_setting.chat_interface.bg_image_url})` : 'none' }}>\n          <Suspense fallback={null}>\n            <EndChat\n              isMounted={chat_details.end_chat.visible}\n              delayUnmountTime={400}\n              is_socket_connected={chat_details.is_socket_connected}\n              end_chat={chat_details.end_chat}\n              closeEndChatPopup={this.onClickCloseIcon}\n              confirmEndConversation={this.confirmEndConversation}\n              handleFormInputChange={this.handleFormInputChange}\n              handleFormSelectChange={this.handleFormSelectChange}\n              submitFormData={this.submitEndFormFormData}\n            />\n          </Suspense>\n          <Suspense fallback={null}>\n            <PreviewFile\n              isMounted={show_file_preview}\n              delayUnmountTime={400}\n              is_socket_connected={chat_details.is_socket_connected}\n              file={file}\n              fileUrl={fileUrl}\n              onClickCancel={this.onFilePreviewCancel}\n              onClickSend={this.onClickFileSend}\n              onFileRemove={this.onFileRemove}\n            />\n          </Suspense>\n          <Suspense fallback={null}>\n            <Menu\n              isMounted={show_menu}\n              delayUnmountTime={400}\n              closeMenu={this.closeMenu}\n              handleResetChat={this.handleResetChat}\n              showFeedback={this.showFeedback}\n            />\n          </Suspense>\n          <Suspense fallback={null}>\n            <Feedback\n              isMounted={show_feedback}\n              delayUnmountTime={650}\n              is_socket_connected={chat_details.is_socket_connected}\n              closeFeedback={this.closeFeedback}\n              psid={chat_details.psid}\n              sendFeedback={actions.sendFeedback}\n            />\n          </Suspense>\n          <div className=\"ori-absolute ori-z-index-99994 ori-flex-row \" style={{ top: '22px', right: '10px' }}>\n            {\n              !android && !is_adster_bot && !chat_details.end_chat.visible &&\n              <div className=\"ori-pad-5 ori-cursor-ptr chatIcons\" onClick={this.minimizeChatbotInterface}>\n                <div className=\"minimizeIcon\" style={{ height: '16px', width: '13px' }} />\n              </div>\n            }\n            {\n              !android && !is_adster_bot &&\n              <div className=\"ori-lr-pad-5 ori-cursor-ptr chatIcons\" onClick={this.onClickCloseIcon}>\n                {\n                  chat_details.end_chat.visible ?\n                    <div className=\"ori-font-default-hover-white\">\n                      <CloseIcon size={18} />\n                    </div>\n                    :\n                    <Button className=\"ori-font-xs ori-btn-default\" size=\"small\">End chat</Button>\n                }\n              </div>\n            }\n          </div>\n          <div className=\"headerContainer\">\n            <ChatBotHeader is_socket_connected={chat_details.is_socket_connected} is_internet_connected={chat_details.is_internet_connected} />\n          </div>\n          <div className=\"ori-b-pad-40 ori-full-flex ori-full-parent-height chatBodyContainer\" id=\"messages_container\" ref={this.setMessageContainerRef} >\n            <ChatBotConversation btn_disabled={!chat_details.is_socket_connected} messages={chat_details.messages} onMessageVoting={actions.onMessageVoting} handleMsgBtnClick={handleMsgBtnClick} handleFileUpload={handleFileUpload} messagesContainer={this.messagesContainer} handleOfferSelection={handleOfferSelection} onChangeCheckbox={onChangeCheckbox} is_typing={chat_details.is_typing} typing_text={chat_details.typing_text} />\n          </div>\n          <div className={classNames(\"ori-relative ori-flex-column ori-flex-jc chatFooterContainer\")}>\n            {\n              chatbot_setting.powered_by && chatbot_setting.powered_by.visibility &&\n              <div className=\"ori-absolute ori-flex-row ori-flex-jc alignPoweredBy\">\n                <PoweredBy target_url={chatbot_setting.powered_by.target_url} logo_url={chatbot_setting.powered_by.icon_url} />\n              </div>\n            }\n            {\n              chat_details.quick_replies && chat_details.quick_replies.length > 0 &&\n              <Suspense fallback={null}>\n                <div className=\"ori-absolute carouselContainer\">\n                  <QuickReply quick_replies={chat_details.quick_replies} sendTextToServer={sendTextToServer} />\n                </div>\n              </Suspense>\n            }\n            <InputComposer psid={chat_details.psid} sendTextToServer={sendTextToServer} is_input_lock={chat_details.is_input_lock} input_lock_text={chat_details.input_lock_text} onInputFocus={this.scrollContainerToBottom} onClickMenu={this.openMenu} emitCustomEvent={actions.emitCustomEvent} beforeUpload={this.beforeFileUpload} onRemove={this.onFileRemove} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nChatBot.propTypes = {\n  chat_details: PropTypes.object,\n  actions: PropTypes.object,\n  sendTextToServer: PropTypes.func,\n  handleMsgBtnClick: PropTypes.func,\n  handleFileUpload: PropTypes.func,\n  handleOfferSelection: PropTypes.func,\n  onChangeCheckbox: PropTypes.func,\n  is_adster_bot: PropTypes.bool,\n};\n\nChatBot.defaultProps = {\n  is_adster_bot: false,\n};\n\nexport default ChatBot;\n"],"sourceRoot":""}