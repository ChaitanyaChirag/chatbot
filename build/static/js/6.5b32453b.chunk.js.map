{"version":3,"sources":["components/poweredby/index.js","../node_modules/react-icons/lib/go/zap.js","modules/chatbot/components/chatbotheader/index.js","modules/chatbot/index.js"],"names":["PoweredBy","props","className","size","href","target_url","target","src","logo_url","alt","Object","defineProperty","exports","value","_extends","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react2","_interopRequireDefault","_reactIconBase2","obj","__esModule","default","createElement","viewBox","d","module","ChatBotHeader","this","is_internet_connected","is_socket_connected","chatbot_client_info","icon_url","brand_name","classNames","React","PureComponent","Menu","lazy","QuickReply","Feedback","EndChat","PreviewFile","DownTime","CustomModal","androidTabletStyle","width","height","top","bottom","left","right","maxHeight","minHeight","borderRadius","ChatBot","state","show_menu","show_feedback","end_chat_form_data","file","fileUrl","show_file_preview","setMessageContainerRef","el","messagesContainer","openMenu","setState","closeMenu","scrollContainerToBottom","scrollToBottom","handleResetChat","chat_details","psid","actions","payload","resetChat","default_messages","getDefaultMessages","localStorage","setItem","LOCAL_STORAGE","MESSAGES","JSON","stringify","LAST_EMIT","setDefaultState","showFeedback","setTimeout","closeFeedback","minimizeChatbotInterface","handleChatbotInterface","onClickCloseIcon","end_chat","visible","show_confirmation_card","show_form_card","show_resolved_card","form","description","updateEndChat","handleFormInputChange","event","name","handleFormSelectChange","option","confirmEndConversation","emitCustomEvent","EVENTS","END_CONVERSATION","err","res","console","log","data","formData","formTitle","submitEndFormFormData","END_CONVERSATION_FORM_SUBMIT","beforeFileUpload","checkImageTypeFile","fileToBase64","then","showMessage","onFileRemove","onFilePreviewCancel","onClickFileSend","handleFileUpload","onDowntimeComplete","updateState","makeSocketConnection","is_adster_bot","sendTextToServer","handleMsgBtnClick","handleOfferSelection","onChangeCheckbox","android","isAndroid","containerStyle","trigger","show_close_icon","style","id","backgroundImage","chatbot_setting","chat_interface","show_bg_image","bg_image_url","fallback","isMounted","downtime","isDownTime","delayUnmountTime","closeEndChatPopup","submitFormData","onClickCancel","onClickSend","sendFeedback","onClick","ref","btn_disabled","messages","onMessageVoting","is_typing","typing_text","powered_by","visibility","quick_replies","is_input_lock","input_lock_text","onInputFocus","onClickMenu","beforeUpload","onRemove","Component","defaultProps"],"mappings":"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","file":"static/js/6.5b32453b.chunk.js","sourcesContent":["import React from 'react';\nimport PowerIcon from 'react-icons/lib/go/zap';\n\nconst PoweredBy = (props) => {\n    return (\n        <div className=\"ori-animated ori-fade-in-up\" >\n            <PowerIcon size={11} className=\"ori-font-danger\"/>\n            <span className=\"ori-font-xxs ori-font-light\" > by</span >\n            <a href={props.target_url} target=\"blank\" className=\"ori-font-xxs\" >\n                <img src={props.logo_url} className=\"ori-l-mrgn-5 ori-height-10 ori-cursor-ptr\" alt=\"\" />\n            </a >\n        </div >\n    );\n};\n\nexport default PoweredBy;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIconBase = require('react-icon-base');\n\nvar _reactIconBase2 = _interopRequireDefault(_reactIconBase);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar GoZap = function GoZap(props) {\n  return _react2.default.createElement(_reactIconBase2.default, _extends({\n    viewBox: '0 0 40 40'\n  }, props), _react2.default.createElement('g', null, _react2.default.createElement('path', {\n    d: 'm32.5 17.5h-10l7.5-17.5-22.5 22.5h10l-7.5 17.5 22.5-22.5z'\n  })));\n};\n\nexports.default = GoZap;\nmodule.exports = exports['default'];","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport { chatbot_client_info } from '../../../../data/config/urls';\n\nclass ChatBotHeader extends React.PureComponent {\n  render() {\n    const { is_internet_connected, is_socket_connected } = this.props;\n    return (\n      <div className=\"oriChatBotHeaderContainer\">\n        <div className=\"ori-flex-row\">\n          <div className=\"ori-animated ori-fade-in ori-r-mrgn-15 avatarContainer\">\n            <img src={chatbot_client_info.icon_url} alt=\"\" className=\"ori-img-contain\" />\n          </div>\n          <div className=\"titleContainer\">\n            <p className=\"ori-capitalize ori-font-md ori-font-medium ori-no-b-mrgn\">{chatbot_client_info.brand_name}</p>\n            <div className=\"ori-flex-row\">\n              <div className=\"ori-flex-column ori-flex-jc \">\n                <div className={classNames(\"onlineBadge\", { \"active\": is_internet_connected && is_socket_connected })}>&nbsp;</div>\n              </div>\n              <div className=\"ori-l-mrgn-5 onlineStatus\">\n                {!is_internet_connected ? \"Offline\" : (!is_socket_connected ? \"Connecting...\" : \"Online\")}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nChatBotHeader.propTypes = {\n  is_socket_connected: PropTypes.bool,\n  is_internet_connected: PropTypes.bool,\n};\n\nexport default ChatBotHeader;\n","import React, { Component, Suspense } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport CloseIcon from 'react-icons/lib/md/close';\nimport Button from 'antd/lib/button';\n\nimport { chatbot_setting, chatbot_client_info } from '../../data/config/urls';\nimport { LOCAL_STORAGE, isAndroid, getDefaultMessages, scrollToBottom, fileToBase64, checkImageTypeFile, showMessage } from '../../data/config/utils';\nimport { EVENTS } from '../../data/config/constants';\n\nimport './index.scss';\n\nimport ChatBotHeader from './components/chatbotheader';\nimport ChatBotConversation from '../../components/chatbotconversation';\nimport InputComposer from '../../components/inputcomposer';\nimport PoweredBy from '../../components/poweredby';\n\nconst Menu = React.lazy(() => import('./components/menu'));\nconst QuickReply = React.lazy(() => import('./components/quickreply'));\nconst Feedback = React.lazy(() => import('./components/feedback'));\nconst EndChat = React.lazy(() => import('./components/endchat'));\nconst PreviewFile = React.lazy(() => import('./components/previewfile'));\nconst DownTime = React.lazy(() => import('./components/downtime'));\nconst CustomModal = React.lazy(() => import('../../components/custommodal'));\n\n\nconst androidTabletStyle = {\n  width: '100%',\n  height: '100%',\n  top: '0',\n  bottom: '0',\n  left: '0',\n  right: '0',\n  maxHeight: 'none',\n  minHeight: 'none',\n  borderRadius: '1px'\n};\n\nclass ChatBot extends Component {\n  state = {\n    show_menu: false,\n    show_feedback: false,\n    end_chat_form_data: {},\n    file: null,\n    fileUrl: \"\",\n    show_file_preview: false,\n  };\n\n  componentDidMount() {\n    scrollToBottom(this.messagesContainer);\n  }\n\n  setMessageContainerRef = el => {\n    this.messagesContainer = el;\n  }\n\n  openMenu = () => {\n    this.setState({ show_menu: true });\n  };\n\n  closeMenu = () => {\n    this.setState({ show_menu: false });\n  };\n\n  scrollContainerToBottom = () => {\n    scrollToBottom(this.messagesContainer);\n  };\n\n  handleResetChat = () => {\n    const { psid, is_socket_connected } = this.props.chat_details;\n    const { actions } = this.props;\n    if (is_socket_connected) {\n      const payload = { psid };\n      actions.resetChat(payload, () => {\n        const default_messages = getDefaultMessages();\n        localStorage.setItem(LOCAL_STORAGE.MESSAGES(), JSON.stringify(default_messages));\n        localStorage.setItem(LOCAL_STORAGE.LAST_EMIT, null);\n        actions.setDefaultState();\n        this.closeMenu();\n      });\n    }\n  };\n\n  showFeedback = () => {\n    this.setState({ show_menu: false }, () => { setTimeout(this.setState({ show_feedback: true }), 400) });\n  };\n\n  closeFeedback = () => {\n    this.setState({ show_feedback: false });\n  };\n\n  minimizeChatbotInterface = () => {\n    this.props.actions.handleChatbotInterface(false);\n  };\n\n  onClickCloseIcon = () => {\n    const { end_chat } = this.props.chat_details;\n    const { actions } = this.props;\n    const payload = end_chat.visible ? {\n      visible: false,\n      show_confirmation_card: false,\n      show_form_card: false,\n      show_resolved_card: false,\n      form: [],\n      description: null,\n    } : {\n        visible: true,\n        show_confirmation_card: true,\n        show_form_card: false,\n        form: [],\n        description: null,\n      };\n    actions.updateEndChat(payload);\n  };\n\n  handleFormInputChange = event => {\n    this.setState({\n      end_chat_form_data: {\n        ...this.state.end_chat_form_data,\n        [event.target.name]: event.target.value,\n      }\n    });\n  };\n\n  handleFormSelectChange = (value, option) => {\n    if (option && option.props && option.props.name) {\n      this.setState({\n        end_chat_form_data: {\n          ...this.state.end_chat_form_data,\n          [option.props.name]: value,\n        }\n      });\n    }\n  };\n\n  confirmEndConversation = () => {\n    const { actions, chat_details } = this.props;\n    const payload = {\n      psid: chat_details.psid,\n    };\n    actions.emitCustomEvent(EVENTS.END_CONVERSATION, payload, (err, res) => {\n      console.log(payload, err, res);\n      if (!err && res && res.data && res.data.formData) {\n        this.handleResetChat();\n        const data = {\n          show_confirmation_card: false,\n          show_resolved_card: false,\n          show_form_card: true,\n          form: res.data.formData,\n          description: res.data.formTitle ? res.data.formTitle : null,\n        };\n        actions.updateEndChat(data);\n      } else {\n        actions.handleChatbotInterface(false);\n        this.onClickCloseIcon();\n      }\n    });\n  };\n\n  submitEndFormFormData = () => {\n    const { end_chat_form_data } = this.state;\n    const { actions, chat_details } = this.props;\n    const payload = {\n      psid: chat_details.psid,\n      formData: end_chat_form_data\n    };\n    actions.emitCustomEvent(EVENTS.END_CONVERSATION_FORM_SUBMIT, payload, () => {\n      actions.handleChatbotInterface(false);\n      this.onClickCloseIcon();\n    });\n  };\n\n  beforeFileUpload = file => {\n    console.log('file', file);\n    if (file && file.name && checkImageTypeFile(file.name)) {\n      fileToBase64(file).then(fileUrl => {\n        this.setState({\n          file,\n          fileUrl,\n          show_file_preview: true\n        });\n      })\n    } else {\n      console.log('selected file is not an image');\n      showMessage('warning', 'selected file is not an image');\n    }\n    return false;\n  };\n\n  onFileRemove = () => {\n    this.setState({\n      file: null,\n      fileUrl: \"\",\n    });\n  };\n\n  onFilePreviewCancel = () => {\n    this.setState({\n      show_file_preview: false,\n    });\n  };\n\n  onClickFileSend = () => {\n    const { file, fileUrl } = this.state;\n    const { handleFileUpload } = this.props;\n    handleFileUpload({ file, fileUrl });\n    this.onFilePreviewCancel();\n  };\n\n  onDowntimeComplete = () => {\n    const { actions } = this.props;\n    actions.updateState('downtime', {});\n    setTimeout(actions.makeSocketConnection, 1000);\n  };\n\n  render() {\n    const { show_menu, show_feedback, show_file_preview, file, fileUrl } = this.state;\n    const { is_adster_bot, chat_details, sendTextToServer, handleMsgBtnClick, handleFileUpload, handleOfferSelection, onChangeCheckbox, actions } = this.props;\n    const android = isAndroid();\n    let containerStyle = {\n      bottom: chatbot_client_info.trigger.show_close_icon ? 'calc(20px + 70px + 20px)' : 0,\n      borderRadius: chatbot_client_info.trigger.show_close_icon ? '8px' : '8px 8px 0px 0px',\n    };\n    if (android) {\n      containerStyle = { ...containerStyle, ...androidTabletStyle };\n    }\n    return (\n      <div className={classNames(\"ori-fixed ori-animated ori-z-index-99992 oriChatBotContainer\", { \"ori-fade-in-up\": !chatbot_client_info.trigger.show_close_icon, \"ori-fade-in\": chatbot_client_info.trigger.show_close_icon })} style={containerStyle}>\n        <div id=\"chatbotContentContainer\" className=\"ori-relative ori-flex-column chatBotContentContainer\" style={{ backgroundImage: chatbot_setting.chat_interface.show_bg_image ? `url(${chatbot_setting.chat_interface.bg_image_url})` : 'none' }}>\n          <Suspense fallback={null}>\n            <CustomModal isMounted={chat_details.downtime.isDownTime} delayUnmountTime={400}>\n              <div className=\"ori-pad-10 ori-bg-white ori-border-radius-3\">\n                <DownTime downtime={chat_details.downtime} onDowntimeComplete={this.onDowntimeComplete} />\n              </div>\n            </CustomModal>\n          </Suspense>\n          <Suspense fallback={null}>\n            <EndChat\n              isMounted={chat_details.end_chat.visible}\n              delayUnmountTime={400}\n              is_socket_connected={chat_details.is_socket_connected}\n              end_chat={chat_details.end_chat}\n              closeEndChatPopup={this.onClickCloseIcon}\n              confirmEndConversation={this.confirmEndConversation}\n              handleFormInputChange={this.handleFormInputChange}\n              handleFormSelectChange={this.handleFormSelectChange}\n              submitFormData={this.submitEndFormFormData}\n            />\n          </Suspense>\n          <Suspense fallback={null}>\n            <PreviewFile\n              isMounted={show_file_preview}\n              delayUnmountTime={400}\n              is_socket_connected={chat_details.is_socket_connected}\n              file={file}\n              fileUrl={fileUrl}\n              onClickCancel={this.onFilePreviewCancel}\n              onClickSend={this.onClickFileSend}\n              onFileRemove={this.onFileRemove}\n            />\n          </Suspense>\n          <Suspense fallback={null}>\n            <Menu\n              isMounted={show_menu}\n              delayUnmountTime={400}\n              closeMenu={this.closeMenu}\n              handleResetChat={this.handleResetChat}\n              showFeedback={this.showFeedback}\n            />\n          </Suspense>\n          <Suspense fallback={null}>\n            <Feedback\n              isMounted={show_feedback}\n              delayUnmountTime={650}\n              is_socket_connected={chat_details.is_socket_connected}\n              closeFeedback={this.closeFeedback}\n              psid={chat_details.psid}\n              sendFeedback={actions.sendFeedback}\n            />\n          </Suspense>\n          <div className=\"ori-absolute ori-z-index-99994 ori-flex-row \" style={{ top: '22px', right: '10px' }}>\n            {\n              !android && !is_adster_bot && !chat_details.end_chat.visible &&\n              <div className=\"ori-pad-5 ori-cursor-ptr chatIcons\" onClick={this.minimizeChatbotInterface}>\n                <div className=\"minimizeIcon\" style={{ height: '16px', width: '13px' }} />\n              </div>\n            }\n            {\n              !android && !is_adster_bot &&\n              <div className=\"ori-lr-pad-5 ori-cursor-ptr chatIcons\" onClick={this.onClickCloseIcon}>\n                {\n                  chat_details.end_chat.visible ?\n                    <div className=\"ori-font-default-hover-white\">\n                      <CloseIcon size={18} />\n                    </div>\n                    :\n                    <Button className=\"ori-font-xs ori-btn-default\" size=\"small\">End chat</Button>\n                }\n              </div>\n            }\n          </div>\n          <div className=\"headerContainer\">\n            <ChatBotHeader is_socket_connected={chat_details.is_socket_connected} is_internet_connected={chat_details.is_internet_connected} />\n          </div>\n          <div className=\"ori-b-pad-40 ori-full-flex ori-full-parent-height chatBodyContainer\" id=\"messages_container\" ref={this.setMessageContainerRef} >\n            <ChatBotConversation btn_disabled={!chat_details.is_socket_connected} messages={chat_details.messages} onMessageVoting={actions.onMessageVoting} handleMsgBtnClick={handleMsgBtnClick} handleFileUpload={handleFileUpload} messagesContainer={this.messagesContainer} handleOfferSelection={handleOfferSelection} onChangeCheckbox={onChangeCheckbox} is_typing={chat_details.is_typing} typing_text={chat_details.typing_text} />\n          </div>\n          <div className={classNames(\"ori-relative ori-flex-column ori-flex-jc chatFooterContainer\")}>\n            {\n              chatbot_setting.powered_by && chatbot_setting.powered_by.visibility &&\n              <div className=\"ori-absolute ori-flex-row ori-flex-jc alignPoweredBy\">\n                <PoweredBy target_url={chatbot_setting.powered_by.target_url} logo_url={chatbot_setting.powered_by.icon_url} />\n              </div>\n            }\n            {\n              chat_details.quick_replies && chat_details.quick_replies.length > 0 &&\n              <Suspense fallback={null}>\n                <div className=\"ori-absolute carouselContainer\">\n                  <QuickReply quick_replies={chat_details.quick_replies} sendTextToServer={sendTextToServer} />\n                </div>\n              </Suspense>\n            }\n            <InputComposer psid={chat_details.psid} sendTextToServer={sendTextToServer} is_input_lock={chat_details.is_input_lock} input_lock_text={chat_details.input_lock_text} onInputFocus={this.scrollContainerToBottom} onClickMenu={this.openMenu} emitCustomEvent={actions.emitCustomEvent} beforeUpload={this.beforeFileUpload} onRemove={this.onFileRemove} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nChatBot.propTypes = {\n  chat_details: PropTypes.object,\n  actions: PropTypes.object,\n  sendTextToServer: PropTypes.func,\n  handleMsgBtnClick: PropTypes.func,\n  handleFileUpload: PropTypes.func,\n  handleOfferSelection: PropTypes.func,\n  onChangeCheckbox: PropTypes.func,\n  is_adster_bot: PropTypes.bool,\n};\n\nChatBot.defaultProps = {\n  is_adster_bot: false,\n};\n\nexport default ChatBot;\n"],"sourceRoot":""}