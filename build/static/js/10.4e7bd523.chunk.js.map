{"version":3,"sources":["../node_modules/react-icons/lib/fa/star.js","modules/chatbot/components/feedback/rating/index.js","modules/chatbot/components/feedback/feedbackbody/feedbackcomment/index.js","modules/chatbot/components/feedback/feedbackbody/index.js","modules/chatbot/components/feedback/index.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react2","_interopRequireDefault","_reactIconBase2","obj","__esModule","default","props","createElement","viewBox","d","module","Rating","state","hover_star","selected_rating","handleRatingClick","rating","handleSelectedRating","setState","this","className","map","size","classNames","onMouseOver","onMouseOut","onClick","chatbot_status","feedback","greeting","low_rated","high_rated","React","PureComponent","TextArea","Input","FeedbackComment","comment","handleCommentChange","event","onClickSubmitComment","handleFeedbackComment","isMounted","delayUnmountTime","style","animationDuration","placeholder","autosize","minRows","maxRows","onChange","FeedbackBodyComponent","show_feedback_comment","FeedbackBody","DelayComponent","propTypes","PropTypes","func","bool","number","FeedbackComponent","psid","sendFeedback","payload","customFeedbackId","comments","console","log","closeFeedback","err","feedback_failed","feedback_success","setTimeout","uniqueId","is_socket_connected","src","chatbot_client_info","icon_url","alt","delayMountTime","color","message","common","socket_connection_lost","title","chainBreak","fontLight","success","failed","Feedback","string"],"mappings":"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","file":"static/js/10.4e7bd523.chunk.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIconBase = require('react-icon-base');\n\nvar _reactIconBase2 = _interopRequireDefault(_reactIconBase);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar FaStar = function FaStar(props) {\n  return _react2.default.createElement(_reactIconBase2.default, _extends({\n    viewBox: '0 0 40 40'\n  }, props), _react2.default.createElement('g', null, _react2.default.createElement('path', {\n    d: 'm38.6 14.4q0 0.5-0.5 1.1l-8.1 7.9 1.9 11.2q0 0.1 0 0.4 0 0.5-0.2 0.8t-0.7 0.3q-0.4 0-0.9-0.2l-10-5.3-10 5.3q-0.5 0.2-0.9 0.2-0.5 0-0.7-0.3t-0.3-0.8q0-0.1 0.1-0.4l1.9-11.2-8.1-7.9q-0.6-0.6-0.6-1.1 0-0.8 1.3-1l11.2-1.6 5-10.2q0.4-0.9 1.1-0.9t1.1 0.9l5 10.2 11.2 1.6q1.2 0.2 1.2 1z'\n  })));\n};\n\nexports.default = FaStar;\nmodule.exports = exports['default'];","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport StarIcon from 'react-icons/lib/fa/star';\n\nimport { chatbot_status } from '../../../../../data/config/urls';\n\nclass Rating extends React.PureComponent {\n    state = {\n        hover_star: 0,\n        selected_rating: 0\n    };\n\n    handleRatingClick = rating => {\n        const { handleSelectedRating } = this.props;\n        this.setState({ selected_rating: rating }, () => handleSelectedRating(rating));\n    };\n\n    render() {\n        const { hover_star, selected_rating } = this.state;\n\n        return (\n            <div className=\"ori-text-center ori-b-mrgn-10 ori-overflow-hidden\">\n                {\n                    [1, 2, 3, 4, 5].map(rating => {\n                        return (\n                            <StarIcon key={rating} size={24} className={classNames(\"ori-animated ori-zoom-in ori-cursor-ptr ori-font-light ratingStar\", { \"ori-font-yellow\": hover_star >= rating || selected_rating >= rating })} onMouseOver={() => this.setState({ hover_star: rating })} onMouseOut={() => this.setState({ hover_star: 0 })} onClick={() => { this.handleRatingClick(rating); }} />\n                        );\n                    })\n                }\n                {\n                    selected_rating === 0 &&\n                    <p className=\"ori-animated ori-fade-in-up ori-t-mrgn-10 ori-no-b-mrgn ori-text-center ori-font-light\"> {chatbot_status.feedback.greeting} </p>\n                }\n                {\n                    selected_rating > 0 && selected_rating < 4 &&\n                    <p className=\"ori-animated ori-fade-in-up ori-t-mrgn-10 ori-no-b-mrgn ori-text-center ori-font-light\"> {chatbot_status.feedback.low_rated} </p>\n                }\n                {\n                    selected_rating > 3 &&\n                    <p className=\"ori-animated ori-fade-in-up ori-t-mrgn-10 ori-no-b-mrgn ori-text-center ori-font-light\"> {chatbot_status.feedback.high_rated}</p>\n                }\n            </div>\n        );\n    }\n}\n\nRating.propTypes = {\n    handleSelectedRating: PropTypes.func,\n};\n\nexport default Rating;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Button from 'antd/lib/button';\nimport Input from 'antd/lib/input';\n\n// import { Input, Button } from 'antd';\n\nconst { TextArea } = Input;\n\nclass FeedbackComment extends React.PureComponent {\n    state = {\n        comment: \"\",\n    };\n\n    handleCommentChange = event => {\n        this.setState({ comment: event.target.value });\n    };\n\n    onClickSubmitComment = () => {\n        const { handleFeedbackComment } = this.props;\n        const { comment } = this.state;\n        handleFeedbackComment(comment);\n    };\n\n    render() {\n        let { comment } = this.state;\n        let { isMounted, delayUnmountTime } = this.props;\n        return (\n            <div className={classNames(\"ori-animated\", { \"ori-fade-in-up\": isMounted, \"ori-fade-out-down\": !isMounted })} style={{ animationDuration: `${delayUnmountTime}ms` }}>\n                <TextArea placeholder=\"Write your comment…\" className=\"feedbackCommentInput\" autosize={{ minRows: 3, maxRows: 8 }} value={comment} onChange={this.handleCommentChange} />\n                <Button className=\"ori-animated ori-zoom-in ori-btn-fill-primary ori-full-width ori-t-mrgn-15\" onClick={this.onClickSubmitComment}>Submit</Button>\n            </div>\n        );\n    }\n}\n\nFeedbackComment.propTypes = {\n    handleFeedbackComment: PropTypes.func,\n    isMounted: PropTypes.bool,\n    delayUnmountTime: PropTypes.number,\n};\n\nexport default FeedbackComment;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Rating from '../rating';\nimport FeedbackComment from './feedbackcomment';\nimport DelayComponent from '../../../../../components/delaycomponent';\n\nclass FeedbackBodyComponent extends React.PureComponent {\n    render() {\n        let { handleSelectedRating, handleFeedbackComment, show_feedback_comment, isMounted, delayUnmountTime } = this.props;\n\n        return (\n            <div className=\"ori-t-pad-20 ori-overflow-hidden\">\n                <Rating handleSelectedRating={handleSelectedRating} />\n                {\n                    show_feedback_comment &&\n                    <FeedbackComment handleFeedbackComment={handleFeedbackComment} isMounted={isMounted} delayUnmountTime={delayUnmountTime} />\n                }\n            </div>\n        );\n    }\n}\n\nconst FeedbackBody = DelayComponent(FeedbackBodyComponent);\n\nFeedbackBody.propTypes = {\n    handleSelectedRating: PropTypes.func,\n    handleFeedbackComment: PropTypes.func,\n    isMounted: PropTypes.bool,\n    delayUnmountTime: PropTypes.number,\n    show_feedback_comment: PropTypes.bool\n};\n\nexport default FeedbackBody;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport CloseIcon from 'react-icons/lib/md/close';\n\nimport './index.scss';\n\nimport { chatbot_client_info, chatbot_status } from '../../../../data/config/urls';\nimport { uniqueId } from '../../../../data/config/utils';\n\nimport DelayComponent from '../../../../components/delaycomponent';\nimport FeedbackBody from './feedbackbody';\nimport ShowMessage from '../../../../components/showmessage';\n\nclass FeedbackComponent extends React.PureComponent {\n    constructor() {\n        super();\n        this.state = {\n            rating: null,\n            customFeedbackId: uniqueId(),\n            feedback_success: false,\n            feedback_failed: false,\n        };\n    }\n\n    handleSelectedRating = rating => {\n        const { psid, sendFeedback } = this.props;\n        const { customFeedbackId } = this.state;\n        const payload = {\n            psid,\n            feedback: { rating, customFeedbackId },\n        };\n        this.setState({ rating });\n        sendFeedback(payload);\n    };\n\n    handleFeedbackComment = comments => {\n        console.log('comment:', comments);\n        const { psid, closeFeedback, sendFeedback } = this.props;\n        const { rating, customFeedbackId } = this.state;\n        const payload = {\n            psid,\n            feedback: { rating, comments, customFeedbackId },\n        };\n        sendFeedback(payload, err => {\n            if (!err) {\n                this.setState({\n                    feedback_success: true,\n                    feedback_failed: false\n                }, () => setTimeout(closeFeedback, 2500));\n            } else {\n                this.setState({\n                    feedback_failed: true,\n                    feedback_success: false,\n                }, () => setTimeout(closeFeedback, 2500));\n            }\n        });\n\n    };\n\n    render() {\n        const { isMounted, closeFeedback, is_socket_connected, delayUnmountTime } = this.props;\n        const { rating, feedback_success, feedback_failed } = this.state;\n\n        return (\n            <div className={classNames(\"ori-absolute ori-flex-column ori-flex-center ori-pad-10 oriFeedbackOverlayContainer\", { \"ori-fade-in\": isMounted, \"ori-fade-out\": !isMounted })} style={{ animationDuration: `${delayUnmountTime}ms` }}>\n                <div className=\"ori-relative ori-bg-white ori-border-radius-3 ori-pad-15 feedbackContainer\">\n                    <div className=\"ori-absolute avatarContainer\">\n                        <img src={chatbot_client_info.icon_url} alt=\"\" className=\"ori-img-contain\" />\n                    </div>\n                    <div className=\"ori-absolute ori-pad-5 flex alignFeedbackClose\" onClick={closeFeedback}>\n                        <CloseIcon size={16} className=\"ori-font-white\" />\n                    </div>\n                    <ShowMessage isMounted={!feedback_failed && !feedback_success && !is_socket_connected && isMounted} delayMountTime={500} delayUnmountTime={500} size={45} color=\"danger\" message={chatbot_status.common.socket_connection_lost} title=\"error\" chainBreak fontLight />\n                    <FeedbackBody handleSelectedRating={this.handleSelectedRating} handleFeedbackComment={this.handleFeedbackComment} isMounted={!feedback_failed && !feedback_success && is_socket_connected && isMounted} delayMountTime={500} delayUnmountTime={500} show_feedback_comment={rating && rating > 0} />\n                    <ShowMessage title=\"success\" message={chatbot_status.feedback.success} isMounted={feedback_success && isMounted} delayMountTime={500} delayUnmountTime={500} size={45} color=\"green\" success fontLight />\n                    <ShowMessage title=\"Failed\" message={chatbot_status.feedback.failed} isMounted={feedback_failed && isMounted} delayMountTime={500} delayUnmountTime={500} size={45} color=\"danger\" failed fontLight />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst Feedback = DelayComponent(FeedbackComponent);\n\nFeedback.propTypes = {\n    is_socket_connected: PropTypes.bool,\n    psid: PropTypes.string,\n    isMounted: PropTypes.bool,\n    delayUnmountTime: PropTypes.number,\n    closeFeedback: PropTypes.func,\n    sendFeedback: PropTypes.func,\n};\n\nexport default Feedback;"],"sourceRoot":""}